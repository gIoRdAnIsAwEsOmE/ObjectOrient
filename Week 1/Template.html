<html lang="en">
    
    <head></head>
    <body>
            Item: <input type="text" id=Item></input><br>
            Item Specialty: <input type="text" id="ItemSpecialty"></input><br><br>
            <button onclick="itemsubmit()">Item Submit</button><br><br>
            Store: <input type="text" id="Store"></input><br>
            Place: <input type="text" id="StorePlace"></input><br>
            Store Specialty: <input type="text" id="StoreSpecialty"></input><br>
            Audience: <input type="text" id="StoreAudience"/><br>
            <button onclick="storesubmit();">Store Submit</button>
            <button onclick="update()">Show updated version</button>>
    </body>
    <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
    <script src="Classes.js"></script>
        
    <script>
        var item = $("#Item");
        const itemspecialty = $("#ItemSpecialty");
        const store = $("#Store");
        const storeplace = $("#StorePlace");
        const storespecialty = $("#StoreSpecialty");
        const storeaudience = $("#StoreAudience");
        
        function itemsubmit(){
            $.ajax({
                url: 'https://data.sparkfun.com/input/QG5lNgZMKpf9mXlXAz5a.json',
                headers: {
                    'Phant-Private-Key': 'Jq7oRNY1e4cN24a4J1D7'
                },
                method: 'POST',
                datatype: 'json',
                async: false,
                data: {    
                    name: item.val(),
                    specialty: itemspecialty.val()
                },
                success: function(data){
                    console.log("Success!");
                }
            });
            
        }
        function storesubmit() {
            $.ajax({
                url: 'https://data.sparkfun.com/input/3JyD29GjXRUqazpyo4Q2',
                headers: {
                    'Phant-Private-Key': 'oZDdx4aP81iRVqvrxKaY'
                },
                method: 'POST',
                datatype: 'json',
                async: false,
                data: {    
                    name: store.val(),
                    place: storeplace.val(),
                    specialty: storespecialty.val(),
                    audience: storeaudience.val()
                },
                success: function(data){
                    console.log("Success");
                }
            });
        }

        function update(){
            $.ajax({
                url: 'https://data.sparkfun.com/output/3JyD29GjXRUqazpyo4Q2.json',
                method: 'GET',
                datatype: 'json',
                async: 'false',
                success: function(data){
                    var storesdata = data;
                    $.ajax({
                        url: 'https://data.sparkfun.com/output/QG5lNgZMKpf9mXlXAz5a.json',
                        method: 'GET',
                        datatype: 'json',
                        async: 'false',
                        success: function(result){
                            var itemsdata = result;
                            datamanage(storesdata, itemsdata);
                        }
                    });
                }
            });
        }

        function datamanage(storesdata, itemsdata){
            var stores = Object.keys(storesdata);
            var items = Object.keys(itemsdata);
            for(var s in stores){
                var store = storesdata[s];
                console.log(storesdata);
                console.log(store);
                for (var i in items){
                    var item = itemsdata[i];
                    

                    
                }
            }
        }
    </script>
</html>